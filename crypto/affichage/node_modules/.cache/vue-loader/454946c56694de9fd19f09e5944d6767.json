{"remainingRequest":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dev\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Historic.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Historic.vue","mtime":1739018947620},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739020670398},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1739022456732},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js","mtime":1739020593006},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739020670398},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js","mtime":1739022549058}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBMVGFibGUgZnJvbSAnc3JjL2NvbXBvbmVudHMvVGFibGUudnVlJw0KICBpbXBvcnQgQ2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9DYXJkcy9DYXJkLnZ1ZScNCg0KICBjb25zdCB0YWJsZUNvbHVtbnMgPSBbJ0lkJywgJ2NyeXB0bycsICd0eXBlJywgJ21vbnRhbnQnLCAnVXRpbGlzYXRldXInXQ0KDQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7DQogICAgICBMVGFibGUsDQogICAgICBDYXJkDQogICAgfSwNCiAgICBkYXRhICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRhYmxlMTogew0KICAgICAgICAgIGNvbHVtbnM6IFsuLi50YWJsZUNvbHVtbnNdLA0KICAgICAgICAgIGRhdGE6IFtdIC8vIEluaXRpYWxpc2F0aW9uIGRlcyBkb25uw6llcyBjb21tZSB2aWRlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICB0aGlzLmZldGNoVHJhbnNhY3Rpb25zKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBmZXRjaFRyYW5zYWN0aW9ucygpIHsNCiAgICAgICAgLy8gVXRpbGlzYXRpb24gZGUgbGEgbcOpdGhvZGUgZmV0Y2ggcG91ciBhcHBlbGVyIGwnQVBJDQogICAgICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwODEvdHJhbnNhY3Rpb25zJykgIC8vIFJlbXBsYWNleiBwYXIgbCdVUkwgcsOpZWxsZSBkZSB2b3RyZSBBUEkNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpDQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAvLyBUcmFpdGVtZW50IGRlcyBkb25uw6llcyByZcOndWVzDQogICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBkYXRhLnJlaGV0cmEubWFwKHRyYW5zYWN0aW9uID0+IHsNCiAgICAgICAgICAgICAgLy8gRMOpdGVybWluZXIgbGUgdHlwZSBlbiBmb25jdGlvbiBkZSBsYSBwcsOpc2VuY2UgZGUgdmVuZGV1ciBvdSBhY2hldGV1cg0KICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdHJhbnNhY3Rpb24udmVuZGV1ciA/ICd2ZW50ZScgOiAnYWNoYXQnOw0KICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbi5pZCwNCiAgICAgICAgICAgICAgICBjcnlwdG86IHRyYW5zYWN0aW9uLmNyeXB0b21vbm5haWUubm9tLA0KICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsDQogICAgICAgICAgICAgICAgbW9udGFudDogYCQkeyh0cmFuc2FjdGlvbi5xdWFudGl0ZWNyeXB0byAqIHRyYW5zYWN0aW9uLmFubm9uY2VWZW50ZS5wcml4KS50b0ZpeGVkKDIpfWAsIC8vIENhbGN1bCBkdSBtb250YW50DQogICAgICAgICAgICAgICAgdXRpbGlzYXRldXI6IHRyYW5zYWN0aW9uLnZlbmRldXIgPyB0cmFuc2FjdGlvbi52ZW5kZXVyLm5vbSA6IHRyYW5zYWN0aW9uLmFjaGV0ZXVyLm5vbQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGEgdGFibGUgYXZlYyBsZXMgbm91dmVsbGVzIGRvbm7DqWVzDQogICAgICAgICAgICB0aGlzLnRhYmxlMS5kYXRhID0gdHJhbnNhY3Rpb25zOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyB0cmFuc2FjdGlvbnM6JywgZXJyb3IpOw0KICAgICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgIGhhbmRsZUJ1dHRvbkNsaWNrKCkgew0KICAgICAgICAvLyBUcmFpdGVtZW50IGR1IGNsaWMgc3VyIHVuIGJvdXRvbiBkYW5zIGxhIHRhYmxlIHNpIG7DqWNlc3NhaXJlDQogICAgICB9DQogICAgfQ0KICB9DQo="},{"version":3,"sources":["Historic.vue"],"names":[],"mappings":";AAyBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Historic.vue","sourceRoot":"src/pages/frontoffice","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <card class=\"strpied-tabled-with-hover\"\r\n                body-classes=\"table-full-width table-responsive\"\r\n          >\r\n            <template slot=\"header\">\r\n              <h4 class=\"card-title\">Historique des transactions</h4>\r\n              <p class=\"card-category\">liste de vos transactions</p>\r\n            </template>\r\n            <l-table class=\"table-hover table-striped\"\r\n                     :columns=\"table1.columns\"\r\n                     :data=\"table1.data\"\r\n                     @button-clicked=\"handleButtonClick\">\r\n            </l-table>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import LTable from 'src/components/Table.vue'\r\n  import Card from 'src/components/Cards/Card.vue'\r\n\r\n  const tableColumns = ['Id', 'crypto', 'type', 'montant', 'Utilisateur']\r\n\r\n  export default {\r\n    components: {\r\n      LTable,\r\n      Card\r\n    },\r\n    data () {\r\n      return {\r\n        table1: {\r\n          columns: [...tableColumns],\r\n          data: [] // Initialisation des données comme vide\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.fetchTransactions();\r\n    },\r\n    methods: {\r\n      fetchTransactions() {\r\n        // Utilisation de la méthode fetch pour appeler l'API\r\n        fetch('http://localhost:8081/transactions')  // Remplacez par l'URL réelle de votre API\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            // Traitement des données reçues\r\n            const transactions = data.rehetra.map(transaction => {\r\n              // Déterminer le type en fonction de la présence de vendeur ou acheteur\r\n              const type = transaction.vendeur ? 'vente' : 'achat';\r\n              return {\r\n                id: transaction.id,\r\n                crypto: transaction.cryptomonnaie.nom,\r\n                type: type,\r\n                montant: `$${(transaction.quantitecrypto * transaction.annonceVente.prix).toFixed(2)}`, // Calcul du montant\r\n                utilisateur: transaction.vendeur ? transaction.vendeur.nom : transaction.acheteur.nom\r\n              }\r\n            });\r\n\r\n            // Mettre à jour la table avec les nouvelles données\r\n            this.table1.data = transactions;\r\n          })\r\n          .catch(error => {\r\n            console.error('Erreur lors de la récupération des transactions:', error);\r\n          });\r\n      },\r\n      handleButtonClick() {\r\n        // Traitement du clic sur un bouton dans la table si nécessaire\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}