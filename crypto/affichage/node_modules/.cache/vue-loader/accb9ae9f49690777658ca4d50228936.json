{"remainingRequest":"C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Historic.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Historic.vue","mtime":1738853544395},{"path":"C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js","mtime":1737957106813},{"path":"C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737957116215},{"path":"C:\\Users\\finoa\\Documents\\GitHub\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js","mtime":1737957107578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IExUYWJsZSBmcm9tICdzcmMvY29tcG9uZW50cy9UYWJsZS52dWUnCiAgaW1wb3J0IENhcmQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2FyZHMvQ2FyZC52dWUnCgogIGNvbnN0IHRhYmxlQ29sdW1ucyA9IFsnSWQnLCAnY3J5cHRvJywgJ3R5cGUnLCAnbW9udGFudCcsICdVdGlsaXNhdGV1ciddCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgTFRhYmxlLAogICAgICBDYXJkCiAgICB9LAogICAgZGF0YSAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGFibGUxOiB7CiAgICAgICAgICBjb2x1bW5zOiBbLi4udGFibGVDb2x1bW5zXSwKICAgICAgICAgIGRhdGE6IFtdIC8vIEluaXRpYWxpc2F0aW9uIGRlcyBkb25uw6llcyBjb21tZSB2aWRlCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgdGhpcy5mZXRjaFRyYW5zYWN0aW9ucygpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgZmV0Y2hUcmFuc2FjdGlvbnMoKSB7CiAgICAgICAgLy8gVXRpbGlzYXRpb24gZGUgbGEgbcOpdGhvZGUgZmV0Y2ggcG91ciBhcHBlbGVyIGwnQVBJCiAgICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS90cmFuc2FjdGlvbnMnKSAgLy8gUmVtcGxhY2V6IHBhciBsJ1VSTCByw6llbGxlIGRlIHZvdHJlIEFQSQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIC8vIFRyYWl0ZW1lbnQgZGVzIGRvbm7DqWVzIHJlw6d1ZXMKICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gZGF0YS5yZWhldHJhLm1hcCh0cmFuc2FjdGlvbiA9PiB7CiAgICAgICAgICAgICAgLy8gRMOpdGVybWluZXIgbGUgdHlwZSBlbiBmb25jdGlvbiBkZSBsYSBwcsOpc2VuY2UgZGUgdmVuZGV1ciBvdSBhY2hldGV1cgogICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0cmFuc2FjdGlvbi52ZW5kZXVyID8gJ3ZlbnRlJyA6ICdhY2hhdCc7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbi5pZCwKICAgICAgICAgICAgICAgIGNyeXB0bzogdHJhbnNhY3Rpb24uY3J5cHRvbW9ubmFpZS5ub20sCiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgbW9udGFudDogYCQkeyh0cmFuc2FjdGlvbi5xdWFudGl0ZWNyeXB0byAqIHRyYW5zYWN0aW9uLmFubm9uY2VWZW50ZS5wcml4KS50b0ZpeGVkKDIpfWAsIC8vIENhbGN1bCBkdSBtb250YW50CiAgICAgICAgICAgICAgICB1dGlsaXNhdGV1cjogdHJhbnNhY3Rpb24udmVuZGV1ciA/IHRyYW5zYWN0aW9uLnZlbmRldXIubm9tIDogdHJhbnNhY3Rpb24uYWNoZXRldXIubm9tCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxhIHRhYmxlIGF2ZWMgbGVzIG5vdXZlbGxlcyBkb25uw6llcwogICAgICAgICAgICB0aGlzLnRhYmxlMS5kYXRhID0gdHJhbnNhY3Rpb25zOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyB0cmFuc2FjdGlvbnM6JywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGhhbmRsZUJ1dHRvbkNsaWNrKCkgewogICAgICAgIC8vIFRyYWl0ZW1lbnQgZHUgY2xpYyBzdXIgdW4gYm91dG9uIGRhbnMgbGEgdGFibGUgc2kgbsOpY2Vzc2FpcmUKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["Historic.vue"],"names":[],"mappings":";AAyBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Historic.vue","sourceRoot":"src/pages/frontoffice","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <card class=\"strpied-tabled-with-hover\"\n                body-classes=\"table-full-width table-responsive\"\n          >\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Historique des transactions</h4>\n              <p class=\"card-category\">liste de vos transactions</p>\n            </template>\n            <l-table class=\"table-hover table-striped\"\n                     :columns=\"table1.columns\"\n                     :data=\"table1.data\"\n                     @button-clicked=\"handleButtonClick\">\n            </l-table>\n          </card>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import LTable from 'src/components/Table.vue'\n  import Card from 'src/components/Cards/Card.vue'\n\n  const tableColumns = ['Id', 'crypto', 'type', 'montant', 'Utilisateur']\n\n  export default {\n    components: {\n      LTable,\n      Card\n    },\n    data () {\n      return {\n        table1: {\n          columns: [...tableColumns],\n          data: [] // Initialisation des données comme vide\n        }\n      }\n    },\n    created() {\n      this.fetchTransactions();\n    },\n    methods: {\n      fetchTransactions() {\n        // Utilisation de la méthode fetch pour appeler l'API\n        fetch('http://localhost:8081/transactions')  // Remplacez par l'URL réelle de votre API\n          .then(response => response.json())\n          .then(data => {\n            // Traitement des données reçues\n            const transactions = data.rehetra.map(transaction => {\n              // Déterminer le type en fonction de la présence de vendeur ou acheteur\n              const type = transaction.vendeur ? 'vente' : 'achat';\n              return {\n                id: transaction.id,\n                crypto: transaction.cryptomonnaie.nom,\n                type: type,\n                montant: `$${(transaction.quantitecrypto * transaction.annonceVente.prix).toFixed(2)}`, // Calcul du montant\n                utilisateur: transaction.vendeur ? transaction.vendeur.nom : transaction.acheteur.nom\n              }\n            });\n\n            // Mettre à jour la table avec les nouvelles données\n            this.table1.data = transactions;\n          })\n          .catch(error => {\n            console.error('Erreur lors de la récupération des transactions:', error);\n          });\n      },\n      handleButtonClick() {\n        // Traitement du clic sur un bouton dans la table si nécessaire\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n"]}]}