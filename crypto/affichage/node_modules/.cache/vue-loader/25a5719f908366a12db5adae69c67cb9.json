{"remainingRequest":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue","mtime":1738849661174},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js","mtime":1737957106813},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737957116215},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js","mtime":1737957107578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMVGFibGUgZnJvbSAnc3JjL2NvbXBvbmVudHMvVGFibGUudnVlJwppbXBvcnQgQ2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9DYXJkcy9DYXJkLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMVGFibGUsCiAgICBDYXJkCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGUxOiB7CiAgICAgICAgY29sdW1uczogWydJZCcsICdDcnlwdG8nLCAnUXVhbnRpdMOpJ10sCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgdGFibGUyOiB7CiAgICAgICAgY29sdW1uczogWydJZCcsICdEZXZpc2UnLCAnUXVhbnRpdMOpJ10sCiAgICAgICAgZGF0YTogW10KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRoX3Rva2VuIik7CiAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL3BvcnRlZmV1aWxsZScsIHsKICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgaGVhZGVyczogewogICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsCiAgICAgIH0KICAgIH0pCiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAudGhlbihkYXRhID0+IHsKICAgICAgdGhpcy50YWJsZTEuZGF0YSA9IGRhdGEucG9ydGVmZXVpbGxlX2NyeXB0by5tYXAocCA9PiAoewogICAgICAgIGlkOiBwLmlkLAogICAgICAgIENyeXB0bzogcC5jcnlwdG9tb25uYWllLmFicmV2LAogICAgICAgIFF1YW50aXTDqTogcC5xdWFudGl0ZQogICAgICB9KSk7CgogICAgICB0aGlzLnRhYmxlMi5kYXRhID0gZGF0YS5wb3J0ZWZldWlsbGVfZmlhdC5tYXAocCA9PiAoewogICAgICAgIGlkOiBwLmlkLAogICAgICAgIERldmlzZTogJ1VTRCcsIC8vIFJlbXBsYWNlIHBhciBsYSBib25uZSBkZXZpc2Ugc2kgZWxsZSBlc3QgZGlzcG9uaWJsZQogICAgICAgIFF1YW50aXTDqTogcC5xdWFudGl0ZQogICAgICB9KSk7CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llczonLCBlcnJvcikpOwogIH0KfTsK"},{"version":3,"sources":["Portefeuille.vue"],"names":[],"mappings":";AA6DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Portefeuille.vue","sourceRoot":"src/pages/frontoffice","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <card class=\"strpied-tabled-with-hover\"\n                body-classes=\"table-full-width table-responsive\"\n          >\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Portefeuille crypto</h4>\n              <p class=\"card-category\"></p>\n            </template>\n            <l-table class=\"table-hover table-striped\"\n                     :columns=\"table1.columns\"\n                     :data=\"table1.data\"\n                     @button-clicked=\"handleButtonClick\">\n            </l-table>\n          </card>\n\n        </div>\n\n        <div class=\"col-12\">\n          <card class=\"card-plain\">\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Portefeuille Fiat</h4>\n              <p class=\"card-category\">Vous pouvez les echangez contre des cryptos</p>\n            </template>\n            <div class=\"table-responsive\">\n              <l-table class=\"table-hover\"\n                       :columns=\"table2.columns\"\n                       :data=\"table2.data\">\n              </l-table>\n            </div>\n          </card>\n        </div>\n\n        <div class=\"col-12\">\n          <card class=\"card-body\">\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Demande de retrait/dépôt</h4>\n            </template>\n            <div class=\"form-group\">\n              <label for=\"transactionType\">Type de transaction</label>\n              <select v-model=\"transactionType\" class=\"form-control\">\n                <option value=\"depot\">Dépôt</option>\n                <option value=\"retrait\">Retrait</option>\n              </select>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"amount\">Quantité</label>\n              <input v-model=\"amount\" type=\"number\" class=\"form-control\" placeholder=\"Entrez la quantité\">\n            </div>\n            <button @click=\"submitRequest\" class=\"btn btn-primary\">Envoyer la demande</button>\n          </card>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LTable from 'src/components/Table.vue'\nimport Card from 'src/components/Cards/Card.vue'\n\nexport default {\n  components: {\n    LTable,\n    Card\n  },\n  data() {\n    return {\n      table1: {\n        columns: ['Id', 'Crypto', 'Quantité'],\n        data: []\n      },\n      table2: {\n        columns: ['Id', 'Devise', 'Quantité'],\n        data: []\n      }\n    };\n  },\n  mounted() {\n    const token = localStorage.getItem(\"auth_token\");\n    fetch('http://localhost:8081/portefeuille', {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.table1.data = data.portefeuille_crypto.map(p => ({\n        id: p.id,\n        Crypto: p.cryptomonnaie.abrev,\n        Quantité: p.quantite\n      }));\n\n      this.table2.data = data.portefeuille_fiat.map(p => ({\n        id: p.id,\n        Devise: 'USD', // Remplace par la bonne devise si elle est disponible\n        Quantité: p.quantite\n      }));\n    })\n    .catch(error => console.error('Erreur lors de la récupération des données:', error));\n  }\n};\n</script>\n\n<style>\n</style>"]}]}