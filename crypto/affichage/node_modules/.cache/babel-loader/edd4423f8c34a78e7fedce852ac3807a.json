{"remainingRequest":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\thread-loader\\dist\\cjs.js!E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js!E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dev\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue","mtime":1739018947624},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\.babelrc","mtime":1739018894935},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739020670398},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1739022456732},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js","mtime":1739020593006},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739020670398},{"path":"E:\\dev\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js","mtime":1739022549058}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovZGV2L0Zvcm5pc3NldXJJZGVudGl0ZS9jcnlwdG8vYWZmaWNoYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IExUYWJsZSBmcm9tICdzcmMvY29tcG9uZW50cy9UYWJsZS52dWUnOwppbXBvcnQgQ2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9DYXJkcy9DYXJkLnZ1ZSc7CnZhciB0YWJsZUNvbHVtbnMgPSBbJ0lkJywgJ2NyeXB0bycsICdwcml4JywgJ3F1YW50aXRlJ107CnZhciB0YWJsZUNvbHVtbnNGaWF0ID0gWydJZCcsICdkZXZpcycsICdxdWFudGl0ZSddOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTFRhYmxlOiBMVGFibGUsCiAgICBDYXJkOiBDYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGUxOiB7CiAgICAgICAgY29sdW1uczogW10uY29uY2F0KHRhYmxlQ29sdW1ucyksCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgdGFibGUyOiB7CiAgICAgICAgY29sdW1uczogW10uY29uY2F0KHRhYmxlQ29sdW1uc0ZpYXQpLAogICAgICAgIGRhdGE6IFtdCiAgICAgIH0sCiAgICAgIHRyYW5zYWN0aW9uVHlwZTogJycsCiAgICAgIGFtb3VudDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBNw6l0aG9kZSBwb3VyIHNvdW1ldHRyZSBsYSBkZW1hbmRlCiAgICBzdWJtaXRSZXF1ZXN0OiBmdW5jdGlvbiBzdWJtaXRSZXF1ZXN0KCkgewogICAgICBhbGVydCgiRGVtYW5kZSBkZSAiLmNvbmNhdCh0aGlzLnRyYW5zYWN0aW9uVHlwZSwgIiBkZSAiKS5jb25jYXQodGhpcy5hbW91bnQsICIgZW52b3lceEU5ZS4iKSk7CiAgICB9LAogICAgLy8gTcOpdGhvZGUgcG91ciByw6ljdXDDqXJlciBsZXMgZG9ubsOpZXMgZGUgbCdBUEkKICAgIGZldGNoUG9ydGVmZXVpbGxlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hQb3J0ZWZldWlsbGUgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG9rZW4sIHJlc3BvbnNlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTsKICAgICAgICAgICAgICBpZiAodG9rZW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFsZXJ0KCJUb2tlbiBpbnRyb3V2YWJsZSBkYW5zIGxlIGxvY2FsU3RvcmFnZSIpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwODEvcG9ydGVmZXVpbGxlJywgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGRlIHLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llcycpOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIC8vIEFmZmVjdGF0aW9uIGRlcyBkb25uw6llcyBkYW5zIGxlcyB0YWJsZWF1eAogICAgICAgICAgICAgIHRoaXMudGFibGUxLmRhdGEgPSBkYXRhLnBvcnRlZmV1aWxsZV9jcnlwdG8ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgY3J5cHRvOiBpdGVtLmNyeXB0b21vbm5haWUubm9tLAogICAgICAgICAgICAgICAgICBwcml4OiAiJCIuY29uY2F0KGl0ZW0ucXVhbnRpdGUudG9GaXhlZCgyKSksCiAgICAgICAgICAgICAgICAgIHF1YW50aXRlOiBpdGVtLnF1YW50aXRlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMudGFibGUyLmRhdGEgPSBkYXRhLnBvcnRlZmV1aWxsZV9maWF0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICAgIGRldmlzOiBpdGVtLnV0aWxpc2F0ZXVyLm5vbSwKICAgICAgICAgICAgICAgICAgLy8gT3UgYXV0cmUgYXR0cmlidXQgcGVydGluZW50IGRlIGwndXRpbGlzYXRldXIKICAgICAgICAgICAgICAgICAgcXVhbnRpdGU6ICIkIi5jb25jYXQoaXRlbS5xdWFudGl0ZS50b0ZpeGVkKDIpKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyZXVyIGxvcnMgZGUgbGEgcsOpY3Vww6lyYXRpb24gZGVzIGRvbm7DqWVzIDoiLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzQsIDE3XV0pOwogICAgICB9KSk7CiAgICAgIGZ1bmN0aW9uIGZldGNoUG9ydGVmZXVpbGxlKCkgewogICAgICAgIHJldHVybiBfZmV0Y2hQb3J0ZWZldWlsbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gZmV0Y2hQb3J0ZWZldWlsbGU7CiAgICB9KCkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoUG9ydGVmZXVpbGxlKCk7CiAgfQp9Ow=="},{"version":3,"names":["LTable","Card","tableColumns","tableColumnsFiat","components","data","table1","columns","concat","table2","transactionType","amount","methods","submitRequest","alert","fetchPortefeuille","_fetchPortefeuille","_asyncToGenerator","regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","abrupt","fetch","method","headers","sent","ok","Error","json","portefeuille_crypto","map","item","id","crypto","cryptomonnaie","nom","prix","quantite","toFixed","portefeuille_fiat","devis","utilisateur","t0","console","error","stop","apply","arguments","mounted"],"sources":["src/pages/frontoffice/Portefeuille.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <card class=\"strpied-tabled-with-hover\"\r\n                body-classes=\"table-full-width table-responsive\"\r\n          >\r\n            <template slot=\"header\">\r\n              <h4 class=\"card-title\">Portefeuille crypto</h4>\r\n              <p class=\"card-category\"></p>\r\n            </template>\r\n            <l-table class=\"table-hover table-striped\"\r\n                     :columns=\"table1.columns\"\r\n                     :data=\"table1.data\"\r\n                     @button-clicked=\"handleButtonClick\">\r\n            </l-table>\r\n          </card>\r\n        </div>\r\n\r\n        <div class=\"col-12\">\r\n          <card class=\"card-plain\">\r\n            <template slot=\"header\">\r\n              <h4 class=\"card-title\">Portefeuille Fiat</h4>\r\n              <p class=\"card-category\">Vous pouvez les échanger contre des cryptos</p>\r\n            </template>\r\n            <div class=\"table-responsive\">\r\n              <l-table class=\"table-hover\"\r\n                       :columns=\"table2.columns\"\r\n                       :data=\"table2.data\">\r\n              </l-table>\r\n            </div>\r\n          </card>\r\n        </div>\r\n\r\n        <div class=\"col-12\">\r\n          <card class=\"card-body\">\r\n            <template slot=\"header\">\r\n              <h4 class=\"card-title\">Demande de retrait/dépôt</h4>\r\n            </template>\r\n            <div class=\"form-group\">\r\n              <label for=\"transactionType\">Type de transaction</label>\r\n              <select v-model=\"transactionType\" class=\"form-control\">\r\n                <option value=\"depot\">Dépôt</option>\r\n                <option value=\"retrait\">Retrait</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"amount\">Quantité</label>\r\n              <input v-model=\"amount\" type=\"number\" class=\"form-control\" placeholder=\"Entrez la quantité\">\r\n            </div>\r\n            <button @click=\"submitRequest\" class=\"btn btn-primary\">Envoyer la demande</button>\r\n          </card>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import LTable from 'src/components/Table.vue'\r\n  import Card from 'src/components/Cards/Card.vue'\r\n\r\n  const tableColumns = ['Id', 'crypto', 'prix', 'quantite']\r\n  const tableColumnsFiat = ['Id', 'devis', 'quantite']\r\n\r\n  export default {\r\n    components: {\r\n      LTable,\r\n      Card\r\n    },\r\n    data() {\r\n      return {\r\n        table1: {\r\n          columns: [...tableColumns],\r\n          data: []\r\n        },\r\n        table2: {\r\n          columns: [...tableColumnsFiat],\r\n          data: []\r\n        },\r\n        transactionType: '',\r\n        amount: ''\r\n      };\r\n    },\r\n    methods: {\r\n      // Méthode pour soumettre la demande\r\n      submitRequest() {\r\n        alert(`Demande de ${this.transactionType} de ${this.amount} envoyée.`);\r\n      },\r\n\r\n      // Méthode pour récupérer les données de l'API\r\n      async fetchPortefeuille() {\r\n        const token = localStorage.getItem('auth_token');\r\n        if (!token) {\r\n          alert(\"Token introuvable dans le localStorage\");\r\n          return;\r\n        }\r\n\r\n        try {\r\n          const response = await fetch('http://localhost:8081/portefeuille', {\r\n            method: 'GET',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n\r\n          if (!response.ok) {\r\n            throw new Error('Erreur de récupération des données');\r\n          }\r\n\r\n          const data = await response.json();\r\n\r\n          // Affectation des données dans les tableaux\r\n          this.table1.data = data.portefeuille_crypto.map(item => ({\r\n            id: item.id,\r\n            crypto: item.cryptomonnaie.nom,\r\n            prix: `$${item.quantite.toFixed(2)}`,\r\n            quantite: item.quantite\r\n          }));\r\n\r\n          this.table2.data = data.portefeuille_fiat.map(item => ({\r\n            id: item.id,\r\n            devis: item.utilisateur.nom,  // Ou autre attribut pertinent de l'utilisateur\r\n            quantite: `$${item.quantite.toFixed(2)}`\r\n          }));\r\n\r\n        } catch (error) {\r\n          console.error(\"Erreur lors de la récupération des données :\", error);\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchPortefeuille();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"mappings":";;AA6DA,OAAAA,MAAA;AACA,OAAAC,IAAA;AAEA,IAAAC,YAAA;AACA,IAAAC,gBAAA;AAEA;EACAC,UAAA;IACAJ,MAAA,EAAAA,MAAA;IACAC,IAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;QACAC,OAAA,KAAAC,MAAA,CAAAN,YAAA;QACAG,IAAA;MACA;MACAI,MAAA;QACAF,OAAA,KAAAC,MAAA,CAAAL,gBAAA;QACAE,IAAA;MACA;MACAK,eAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACAC,KAAA,eAAAN,MAAA,MAAAE,eAAA,UAAAF,MAAA,MAAAG,MAAA;IACA;IAEA;IACAI,iBAAA;MAAA,IAAAC,kBAAA,GAAAC,iBAAA,cAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAjB,IAAA;QAAA,OAAAa,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAN,KAAA,GAAAO,YAAA,CAAAC,OAAA;cAAA,IACAR,KAAA;gBAAAI,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAb,KAAA;cAAA,OAAAW,QAAA,CAAAK,MAAA;YAAA;cAAAL,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAKAI,KAAA;gBACAC,MAAA;gBACAC,OAAA;kBACA,2BAAAzB,MAAA,CAAAa,KAAA;gBACA;cACA;YAAA;cALAC,QAAA,GAAAG,QAAA,CAAAS,IAAA;cAAA,IAOAZ,QAAA,CAAAa,EAAA;gBAAAV,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MACA,IAAAS,KAAA;YAAA;cAAAX,QAAA,CAAAE,IAAA;cAAA,OAGAL,QAAA,CAAAe,IAAA;YAAA;cAAAhC,IAAA,GAAAoB,QAAA,CAAAS,IAAA;cAEA;cACA,KAAA5B,MAAA,CAAAD,IAAA,GAAAA,IAAA,CAAAiC,mBAAA,CAAAC,GAAA,WAAAC,IAAA;gBAAA;kBACAC,EAAA,EAAAD,IAAA,CAAAC,EAAA;kBACAC,MAAA,EAAAF,IAAA,CAAAG,aAAA,CAAAC,GAAA;kBACAC,IAAA,MAAArC,MAAA,CAAAgC,IAAA,CAAAM,QAAA,CAAAC,OAAA;kBACAD,QAAA,EAAAN,IAAA,CAAAM;gBACA;cAAA;cAEA,KAAArC,MAAA,CAAAJ,IAAA,GAAAA,IAAA,CAAA2C,iBAAA,CAAAT,GAAA,WAAAC,IAAA;gBAAA;kBACAC,EAAA,EAAAD,IAAA,CAAAC,EAAA;kBACAQ,KAAA,EAAAT,IAAA,CAAAU,WAAA,CAAAN,GAAA;kBAAA;kBACAE,QAAA,MAAAtC,MAAA,CAAAgC,IAAA,CAAAM,QAAA,CAAAC,OAAA;gBACA;cAAA;cAAAtB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAA0B,EAAA,GAAA1B,QAAA;cAGA2B,OAAA,CAAAC,KAAA,iDAAA5B,QAAA,CAAA0B,EAAA;YAAA;YAAA;cAAA,OAAA1B,QAAA,CAAA6B,IAAA;UAAA;QAAA,GAAAlC,OAAA;MAAA;MAAA,SApCAL,kBAAA;QAAA,OAAAC,kBAAA,CAAAuC,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAzC,iBAAA;IAAA;EAuCA;EACA0C,OAAA,WAAAA,QAAA;IACA,KAAA1C,iBAAA;EACA;AACA","ignoreList":[]}]}