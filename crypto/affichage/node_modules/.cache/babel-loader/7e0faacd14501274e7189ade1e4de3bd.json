{"remainingRequest":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js!F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\src\\pages\\frontoffice\\Portefeuille.vue","mtime":1738851915550},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\.babelrc","mtime":1737956864101},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737957116215},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\babel-loader\\lib\\index.js","mtime":1737957106813},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737957116215},{"path":"F:\\Manoa\\vaovao\\ITU\\S5\\Mr Rojo\\examen\\crypto-1\\FornisseurIdentite\\crypto\\affichage\\node_modules\\vue-loader\\lib\\index.js","mtime":1737957107578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjovTWFub2EvdmFvdmFvL0lUVS9TNS9NciBSb2pvL2V4YW1lbi9jcnlwdG8tMS9Gb3JuaXNzZXVySWRlbnRpdGUvY3J5cHRvL2FmZmljaGFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBMVGFibGUgZnJvbSAnc3JjL2NvbXBvbmVudHMvVGFibGUudnVlJzsKaW1wb3J0IENhcmQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2FyZHMvQ2FyZC52dWUnOwp2YXIgdGFibGVDb2x1bW5zID0gWydJZCcsICdjcnlwdG8nLCAncHJpeCcsICdxdWFudGl0ZSddOwp2YXIgdGFibGVDb2x1bW5zRmlhdCA9IFsnSWQnLCAnZGV2aXMnLCAncXVhbnRpdGUnXTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExUYWJsZTogTFRhYmxlLAogICAgQ2FyZDogQ2FyZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlMTogewogICAgICAgIGNvbHVtbnM6IFtdLmNvbmNhdCh0YWJsZUNvbHVtbnMpLAogICAgICAgIGRhdGE6IFtdCiAgICAgIH0sCiAgICAgIHRhYmxlMjogewogICAgICAgIGNvbHVtbnM6IFtdLmNvbmNhdCh0YWJsZUNvbHVtbnNGaWF0KSwKICAgICAgICBkYXRhOiBbXQogICAgICB9LAogICAgICB0cmFuc2FjdGlvblR5cGU6ICcnLAogICAgICBhbW91bnQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gTcOpdGhvZGUgcG91ciBzb3VtZXR0cmUgbGEgZGVtYW5kZQogICAgc3VibWl0UmVxdWVzdDogZnVuY3Rpb24gc3VibWl0UmVxdWVzdCgpIHsKICAgICAgYWxlcnQoIkRlbWFuZGUgZGUgIi5jb25jYXQodGhpcy50cmFuc2FjdGlvblR5cGUsICIgZGUgIikuY29uY2F0KHRoaXMuYW1vdW50LCAiIGVudm95XHhFOWUuIikpOwogICAgfSwKICAgIC8vIE3DqXRob2RlIHBvdXIgcsOpY3Vww6lyZXIgbGVzIGRvbm7DqWVzIGRlIGwnQVBJCiAgICBmZXRjaFBvcnRlZmV1aWxsZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoUG9ydGVmZXVpbGxlID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHRva2VuLCByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7CiAgICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBhbGVydCgiVG9rZW4gaW50cm91dmFibGUgZGFucyBsZSBsb2NhbFN0b3JhZ2UiKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL3BvcnRlZmV1aWxsZScsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VycmV1ciBkZSByw6ljdXDDqXJhdGlvbiBkZXMgZG9ubsOpZXMnKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvLyBBZmZlY3RhdGlvbiBkZXMgZG9ubsOpZXMgZGFucyBsZXMgdGFibGVhdXgKICAgICAgICAgICAgICB0aGlzLnRhYmxlMS5kYXRhID0gZGF0YS5wb3J0ZWZldWlsbGVfY3J5cHRvLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICAgIGNyeXB0bzogaXRlbS5jcnlwdG9tb25uYWllLm5vbSwKICAgICAgICAgICAgICAgICAgcHJpeDogIiQiLmNvbmNhdChpdGVtLnF1YW50aXRlLnRvRml4ZWQoMikpLAogICAgICAgICAgICAgICAgICBxdWFudGl0ZTogaXRlbS5xdWFudGl0ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLnRhYmxlMi5kYXRhID0gZGF0YS5wb3J0ZWZldWlsbGVfZmlhdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICAgICAgICBkZXZpczogaXRlbS51dGlsaXNhdGV1ci5ub20sCiAgICAgICAgICAgICAgICAgIC8vIE91IGF1dHJlIGF0dHJpYnV0IHBlcnRpbmVudCBkZSBsJ3V0aWxpc2F0ZXVyCiAgICAgICAgICAgICAgICAgIHF1YW50aXRlOiAiJCIuY29uY2F0KGl0ZW0ucXVhbnRpdGUudG9GaXhlZCgyKSkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llcyA6IiwgX2NvbnRleHQudDApOwogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s0LCAxN11dKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBmZXRjaFBvcnRlZmV1aWxsZSgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoUG9ydGVmZXVpbGxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZldGNoUG9ydGVmZXVpbGxlOwogICAgfSgpCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFBvcnRlZmV1aWxsZSgpOwogIH0KfTs="},{"version":3,"names":["LTable","Card","tableColumns","tableColumnsFiat","components","data","table1","columns","concat","table2","transactionType","amount","methods","submitRequest","alert","fetchPortefeuille","_fetchPortefeuille","_asyncToGenerator","regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","abrupt","fetch","method","headers","sent","ok","Error","json","portefeuille_crypto","map","item","id","crypto","cryptomonnaie","nom","prix","quantite","toFixed","portefeuille_fiat","devis","utilisateur","t0","console","error","stop","apply","arguments","mounted"],"sources":["src/pages/frontoffice/Portefeuille.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <card class=\"strpied-tabled-with-hover\"\n                body-classes=\"table-full-width table-responsive\"\n          >\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Portefeuille crypto</h4>\n              <p class=\"card-category\"></p>\n            </template>\n            <l-table class=\"table-hover table-striped\"\n                     :columns=\"table1.columns\"\n                     :data=\"table1.data\"\n                     @button-clicked=\"handleButtonClick\">\n            </l-table>\n          </card>\n        </div>\n\n        <div class=\"col-12\">\n          <card class=\"card-plain\">\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Portefeuille Fiat</h4>\n              <p class=\"card-category\">Vous pouvez les échanger contre des cryptos</p>\n            </template>\n            <div class=\"table-responsive\">\n              <l-table class=\"table-hover\"\n                       :columns=\"table2.columns\"\n                       :data=\"table2.data\">\n              </l-table>\n            </div>\n          </card>\n        </div>\n\n        <div class=\"col-12\">\n          <card class=\"card-body\">\n            <template slot=\"header\">\n              <h4 class=\"card-title\">Demande de retrait/dépôt</h4>\n            </template>\n            <div class=\"form-group\">\n              <label for=\"transactionType\">Type de transaction</label>\n              <select v-model=\"transactionType\" class=\"form-control\">\n                <option value=\"depot\">Dépôt</option>\n                <option value=\"retrait\">Retrait</option>\n              </select>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"amount\">Quantité</label>\n              <input v-model=\"amount\" type=\"number\" class=\"form-control\" placeholder=\"Entrez la quantité\">\n            </div>\n            <button @click=\"submitRequest\" class=\"btn btn-primary\">Envoyer la demande</button>\n          </card>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import LTable from 'src/components/Table.vue'\n  import Card from 'src/components/Cards/Card.vue'\n\n  const tableColumns = ['Id', 'crypto', 'prix', 'quantite']\n  const tableColumnsFiat = ['Id', 'devis', 'quantite']\n\n  export default {\n    components: {\n      LTable,\n      Card\n    },\n    data() {\n      return {\n        table1: {\n          columns: [...tableColumns],\n          data: []\n        },\n        table2: {\n          columns: [...tableColumnsFiat],\n          data: []\n        },\n        transactionType: '',\n        amount: ''\n      };\n    },\n    methods: {\n      // Méthode pour soumettre la demande\n      submitRequest() {\n        alert(`Demande de ${this.transactionType} de ${this.amount} envoyée.`);\n      },\n\n      // Méthode pour récupérer les données de l'API\n      async fetchPortefeuille() {\n        const token = localStorage.getItem('auth_token');\n        if (!token) {\n          alert(\"Token introuvable dans le localStorage\");\n          return;\n        }\n\n        try {\n          const response = await fetch('http://localhost:8081/portefeuille', {\n            method: 'GET',\n            headers: {\n              'Authorization': `Bearer ${token}`\n            }\n          });\n\n          if (!response.ok) {\n            throw new Error('Erreur de récupération des données');\n          }\n\n          const data = await response.json();\n\n          // Affectation des données dans les tableaux\n          this.table1.data = data.portefeuille_crypto.map(item => ({\n            id: item.id,\n            crypto: item.cryptomonnaie.nom,\n            prix: `$${item.quantite.toFixed(2)}`,\n            quantite: item.quantite\n          }));\n\n          this.table2.data = data.portefeuille_fiat.map(item => ({\n            id: item.id,\n            devis: item.utilisateur.nom,  // Ou autre attribut pertinent de l'utilisateur\n            quantite: `$${item.quantite.toFixed(2)}`\n          }));\n\n        } catch (error) {\n          console.error(\"Erreur lors de la récupération des données :\", error);\n        }\n      }\n    },\n    mounted() {\n      this.fetchPortefeuille();\n    }\n  }\n</script>\n\n<style>\n</style>\n"],"mappings":";;AA6DA,OAAAA,MAAA;AACA,OAAAC,IAAA;AAEA,IAAAC,YAAA;AACA,IAAAC,gBAAA;AAEA;EACAC,UAAA;IACAJ,MAAA,EAAAA,MAAA;IACAC,IAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;QACAC,OAAA,KAAAC,MAAA,CAAAN,YAAA;QACAG,IAAA;MACA;MACAI,MAAA;QACAF,OAAA,KAAAC,MAAA,CAAAL,gBAAA;QACAE,IAAA;MACA;MACAK,eAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACAC,KAAA,eAAAN,MAAA,MAAAE,eAAA,UAAAF,MAAA,MAAAG,MAAA;IACA;IAEA;IACAI,iBAAA;MAAA,IAAAC,kBAAA,GAAAC,iBAAA,cAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAjB,IAAA;QAAA,OAAAa,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAN,KAAA,GAAAO,YAAA,CAAAC,OAAA;cAAA,IACAR,KAAA;gBAAAI,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAb,KAAA;cAAA,OAAAW,QAAA,CAAAK,MAAA;YAAA;cAAAL,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAKAI,KAAA;gBACAC,MAAA;gBACAC,OAAA;kBACA,2BAAAzB,MAAA,CAAAa,KAAA;gBACA;cACA;YAAA;cALAC,QAAA,GAAAG,QAAA,CAAAS,IAAA;cAAA,IAOAZ,QAAA,CAAAa,EAAA;gBAAAV,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MACA,IAAAS,KAAA;YAAA;cAAAX,QAAA,CAAAE,IAAA;cAAA,OAGAL,QAAA,CAAAe,IAAA;YAAA;cAAAhC,IAAA,GAAAoB,QAAA,CAAAS,IAAA;cAEA;cACA,KAAA5B,MAAA,CAAAD,IAAA,GAAAA,IAAA,CAAAiC,mBAAA,CAAAC,GAAA,WAAAC,IAAA;gBAAA;kBACAC,EAAA,EAAAD,IAAA,CAAAC,EAAA;kBACAC,MAAA,EAAAF,IAAA,CAAAG,aAAA,CAAAC,GAAA;kBACAC,IAAA,MAAArC,MAAA,CAAAgC,IAAA,CAAAM,QAAA,CAAAC,OAAA;kBACAD,QAAA,EAAAN,IAAA,CAAAM;gBACA;cAAA;cAEA,KAAArC,MAAA,CAAAJ,IAAA,GAAAA,IAAA,CAAA2C,iBAAA,CAAAT,GAAA,WAAAC,IAAA;gBAAA;kBACAC,EAAA,EAAAD,IAAA,CAAAC,EAAA;kBACAQ,KAAA,EAAAT,IAAA,CAAAU,WAAA,CAAAN,GAAA;kBAAA;kBACAE,QAAA,MAAAtC,MAAA,CAAAgC,IAAA,CAAAM,QAAA,CAAAC,OAAA;gBACA;cAAA;cAAAtB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAA0B,EAAA,GAAA1B,QAAA;cAGA2B,OAAA,CAAAC,KAAA,iDAAA5B,QAAA,CAAA0B,EAAA;YAAA;YAAA;cAAA,OAAA1B,QAAA,CAAA6B,IAAA;UAAA;QAAA,GAAAlC,OAAA;MAAA;MAAA,SApCAL,kBAAA;QAAA,OAAAC,kBAAA,CAAAuC,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAzC,iBAAA;IAAA;EAuCA;EACA0C,OAAA,WAAAA,QAAA;IACA,KAAA1C,iBAAA;EACA;AACA","ignoreList":[]}]}